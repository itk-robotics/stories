<?xml version="1.0" encoding="UTF-8" ?>
<ChoregrapheProject xmlns="http://www.aldebaran-robotics.com/schema/choregraphe/project.xsd" xar_version="3">
    <Box name="root" id="-1" localization="8" tooltip="Root box of Choregraphe&apos;s behavior. Highest level possible." x="0" y="0">
        <bitmap>media/images/box/root.png</bitmap>
        <script language="4">
            <content>
                <![CDATA[]]>
</content>
        </script>
        <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
        <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
        <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
        <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
        <Timeline enable="0">
            <BehaviorLayer name="behavior_layer1">
                <BehaviorKeyframe name="keyframe1" index="1">
                    <Diagram scale="84.0896">
                        <Box name="SeekAttention" id="1" localization="8" tooltip="" x="198" y="45">
                            <bitmap>media/images/box/box-timeLine.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                            <Input name="inputKeyframe" type="2" type_size="1" nature="1" inner="0" tooltip="" id="4" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="5" />
                            <Output name="outputKeyframe" type="1" type_size="1" nature="2" inner="0" tooltip="" id="6" />
                            <Timeline enable="1" fps="0" start_frame="1" end_frame="-1" size="-1">
                                <BehaviorLayer name="behavior_layer1">
                                    <BehaviorKeyframe name="keyframe1" index="1">
                                        <Diagram>
                                            <Box name="Random Start" id="1" localization="8" tooltip='***Custom***&#x0A;Keyframe integer stored to ALMemory &quot;memKeyFrame&quot;&#x0A;&#x0A;Generate a random integer between a min number and a max number set as&#x0A;parameters.&#x0A;Note that the min and max numbers are included in the range of possible values.' x="186" y="72">
                                                <bitmap>media/images/box/box-script.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[import random

class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        # attributes needed in shuffle mode
        self.nMax = 1
        self.nMin = 0
        self.nIndex = self.nMax - self.nMin
        self.aShuffled = []

    def onUnload(self):
         #puts code for box cleanup here
        pass

    def onInput_onStart(self):
        #***
        self.memory = self.session().service("ALMemory")
        self.shuffleInt = -1
        self.notShuffleInt = -1
        #***

        nMax = self.getParameter("Max value")
        nMin = self.getParameter("Min value")
        if( nMin > nMax ):
            temp = nMin
            nMin = nMax
            nMax = temp
        # if shuffle
        if( self.getParameter("Shuffle") ):
            self.nIndex += 1
            if( self.nIndex > self.nMax - self.nMin or nMax != self.nMax or nMin != self.nMin ):
                self.nMax = nMax
                self.nMin = nMin
                self.nIndex = 0
                self.aShuffled = []
                for i in range( nMin, nMax + 1 ):
                    self.aShuffled.insert( random.randint(0, len(self.aShuffled)), i )
            self.shuffleInt = self.aShuffled[self.nIndex]
            self.output_RandomValue(self.shuffleInt)
            self.memory.insertData("memKeyFrame", self.shuffleInt)
        # if not shuffle
        else:
            self.nIndex = self.nMax - self.nMin
            self.notShuffleInt= random.randint( nMin, nMax )
            self.output_RandomValue(self.notShuffleInt)
            self.memory.insertData("memKeyFrame", self.notshuffleInt)]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="1" inner="0" tooltip="Generate a random integer." id="2" />
                                                <Output name="output_RandomValue" type="2" type_size="1" nature="2" inner="0" tooltip="The random value obtained." id="3" />
                                                <Parameter name="Min value" inherits_from_parent="0" content_type="1" value="1" default_value="0" min="0" max="1000" tooltip="The minimum value you can get." id="4" />
                                                <Parameter name="Max value" inherits_from_parent="0" content_type="1" value="6" default_value="10" min="0" max="1000" tooltip="The maximum number you can get." id="5" />
                                                <Parameter name="Shuffle" inherits_from_parent="0" content_type="0" value="1" default_value="0" tooltip="When this option is selected the box will give all the numbers between min and&#x0A;max before giving the same number twice." id="6" />
                                            </Box>
                                            <Box name="Goto (name)" id="2" localization="8" tooltip="Jump to the frame name set in parameters." x="353" y="113">
                                                <bitmap>media/images/box/box-timeLine.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onInput_onGo(self,int):
        self.logger.info("SeekAttention running; Goto keyframe: " + str(int))
        self.getParentTimeline().goTo(str(int))]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onGo" type="2" type_size="1" nature="1" inner="0" tooltip="Parent timeline gotoTimeline when a signal is received on this input." id="2" />
                                                <Output name="onFailed" type="1" type_size="1" nature="2" inner="0" tooltip="" id="3" />
                                                <Parameter name="Frame name" inherits_from_parent="0" content_type="3" value="" default_value="" custom_choice="0" tooltip="Name of the frame you want to go to." id="4" />
                                            </Box>
                                            <Link inputowner="2" indexofinput="2" outputowner="1" indexofoutput="3" />
                                            <Link inputowner="0" indexofinput="5" outputowner="2" indexofoutput="3" />
                                            <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                        </Diagram>
                                    </BehaviorKeyframe>
                                    <BehaviorKeyframe name="1" index="25">
                                        <Diagram>
                                            <Box name="AnimatedSay" id="1" localization="8" tooltip="" x="233" y="65">
                                                <bitmap>media/images/box/box-python-script.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #put initialization code here
        pass

    def onUnload(self):
        #put clean-up code here
        pass

    def onInput_onStart(self):
        self.memory = self.session().service("ALMemory")
        self.animated = self.session().service("ALAnimatedSpeech")

        self.animated.say("^start(animations/Stand/Gestures/Hey_1) \\toi=lhp\\u#\\toi=orth\\ I wanna talk to you! ^wait(animations/Stand/Gestures/Hey_1)")   #a.N+e.R&s

        self.onStopped()



    def onInput_onStop(self):
        self.onUnload() #it is recommended to reuse the clean-up as the box is stopped
        self.onStopped() #activate the output of the box]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                            </Box>
                                            <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="1" />
                                            <Link inputowner="0" indexofinput="5" outputowner="1" indexofoutput="4" />
                                        </Diagram>
                                    </BehaviorKeyframe>
                                    <BehaviorKeyframe name="2" index="35">
                                        <Diagram>
                                            <Box name="attention_dialog" id="2" localization="8" tooltip="" x="177" y="296">
                                                <dialogFile>../attention_dialog/attention_dialog.dlg</dialogFile>
                                                <bitmap>media/images/box/box-dialog.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                            </Box>
                                            <Box name="Comment" id="1" localization="8" tooltip="To comment your behavior. Enter the text here and move the box where you like&#x0A;to add the comment.&#x0A;&#x0A;Note: This box is not functional and has no effect on the behavior." plugin="textedit_plugin" x="415" y="214">
                                                <bitmap>media/images/box/box-script.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[# /!\ Generated content. Do not edit!
class MyClass(GeneratedClass):
	def __init__(self):
		GeneratedClass.__init__(self)

	def onInput_onStart(self):
		self.onStopped("duplicate of keyframe 3")]]>
</content>
                                                </script>
                                                <pluginContent>
                                                    <text>
                                                        <![CDATA[duplicate of keyframe 3]]>
</text>
                                                </pluginContent>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when Diagram is loaded." id="1" />
                                            </Box>
                                            <Box name="Apply Posture" id="4" localization="8" tooltip="Set directly all the joints of the robot in the asked posture." x="390" y="63">
                                                <bitmap>media/images/box/movement/setRobotPosture.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        self.postureProxy = ALProxy("ALRobotPosture")
        pass

    def onUnload(self):
        self.postureProxy.stopMove()

    def onInput_onStart(self):
        result = self.postureProxy.applyPosture(self.getParameter("Name"), self.getParameter("Speed (%)")/100.)
        if(result):
            self.success()
        else:
            self.failure()
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture has been reached." id="4" />
                                                <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture could not be reached." id="5" />
                                                <Parameter name="Name" inherits_from_parent="0" content_type="3" value="Stand" default_value="Sit" custom_choice="1" tooltip="Name of the posture to go to." id="6">
                                                    <Choice value="Crouch" />
                                                    <Choice value="LyingBack" />
                                                    <Choice value="LyingBelly" />
                                                    <Choice value="Sit" />
                                                    <Choice value="SitRelax" />
                                                    <Choice value="StandInit" />
                                                    <Choice value="Stand" />
                                                    <Choice value="StandZero" />
                                                </Parameter>
                                                <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="40" default_value="100" min="0" max="100" tooltip="Speed to go to the posture." id="7" />
                                                <Resource name="All motors" type="Lock" timeout="0" />
                                            </Box>
                                            <Box name="Arm-head track" id="5" localization="8" tooltip="" x="159" y="31">
                                                <bitmap>media/images/box/box-python-script.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #put initialization code here
        pass

    def onUnload(self):
#        self.motion.killAll()
#        self.motion = None
        pass

    def onInput_onStart(self):
        self.motion = self.session().service("ALMotion")
        from time import sleep

        """From head to arm"""
        #get angle, select arm
        self.velocity = 1
        self.headYaw = self.motion.getAngles("HeadYaw",True)
        self.headYaw = self.headYaw[0]  #change list to float

        #inverse angles depeding on left or right arm.
        if self.headYaw > 0 :
            self.side = "L"
            self.mod = -1
        else:
            self.side = "R"
            self.mod = 1

        #prep arm
        self.names = [self.side+"ShoulderPitch", self.side+"ShoulderRoll", self.side+"Hand", self.side+"ElbowRoll", self.side+"WristYaw"]
        self.angles = [0.0,                      self.headYaw,             0.9,              (2.0 * self.mod),       (-1.7 * self.mod)]
        self.motion.angleInterpolation(self.names, self.angles, self.velocity, True)


        """

        self.motion.angleInterpolation(self.side+"ShoulderPitch", 0.0, self.velocity, True)
        self.motion.angleInterpolation(self.side+"ShoulderRoll", self.headYaw, self.velocity, True)
        """



        #wave loop
        names  = [self.side+"ElbowYaw"]
        times  = [0.4]

        isAbsolute = False

        for _ in range(2):
            #wave out
            angles = [(0.3 * self.mod)]
            self.motion.angleInterpolation(names, angles, times, isAbsolute)

            #wave in
            angles = [(-0.3 * self.mod)]
            self.motion.angleInterpolation(names, angles, times, isAbsolute)


        self.onStopped()


    def onInput_onStop(self):
        self.onUnload() #it is recommended to reuse the clean-up as the box is stopped
        self.onStopped() #activate the output of the box]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                            </Box>
                                            <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                            <Link inputowner="5" indexofinput="2" outputowner="0" indexofoutput="1" />
                                            <Link inputowner="0" indexofinput="5" outputowner="4" indexofoutput="4" />
                                            <Link inputowner="0" indexofinput="5" outputowner="4" indexofoutput="5" />
                                            <Link inputowner="0" indexofinput="5" outputowner="5" indexofoutput="4" />
                                        </Diagram>
                                    </BehaviorKeyframe>
                                    <BehaviorKeyframe name="3" index="45">
                                        <Diagram>
                                            <Box name="attention_dialog" id="2" localization="8" tooltip="" x="184" y="248">
                                                <dialogFile>../attention_dialog/attention_dialog.dlg</dialogFile>
                                                <bitmap>media/images/box/box-dialog.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                            </Box>
                                            <Box name="Apply Posture" id="1" localization="8" tooltip="Set directly all the joints of the robot in the asked posture." x="586" y="83">
                                                <bitmap>media/images/box/movement/setRobotPosture.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        self.postureProxy = ALProxy("ALRobotPosture")
        pass

    def onUnload(self):
        self.postureProxy.stopMove()

    def onInput_onStart(self):
        result = self.postureProxy.applyPosture(self.getParameter("Name"), self.getParameter("Speed (%)")/100.)
        if(result):
            self.success()
        else:
            self.failure()
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture has been reached." id="4" />
                                                <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture could not be reached." id="5" />
                                                <Parameter name="Name" inherits_from_parent="0" content_type="3" value="Stand" default_value="Sit" custom_choice="1" tooltip="Name of the posture to go to." id="6">
                                                    <Choice value="Crouch" />
                                                    <Choice value="LyingBack" />
                                                    <Choice value="LyingBelly" />
                                                    <Choice value="Sit" />
                                                    <Choice value="SitRelax" />
                                                    <Choice value="StandInit" />
                                                    <Choice value="Stand" />
                                                    <Choice value="StandZero" />
                                                </Parameter>
                                                <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="40" default_value="100" min="0" max="100" tooltip="Speed to go to the posture." id="7" />
                                                <Resource name="All motors" type="Lock" timeout="0" />
                                            </Box>
                                            <Box name="Arm-head track" id="4" localization="8" tooltip="" x="255" y="55">
                                                <bitmap>media/images/box/box-python-script.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)

    def onLoad(self):
        #put initialization code here
        pass

    def onUnload(self):
#        self.motion.killAll()
#        self.motion = None
        pass

    def onInput_onStart(self):
        self.motion = self.session().service("ALMotion")
        from time import sleep

        """From head to arm"""
        #get angle, select arm
        self.velocity = 1
        self.headYaw = self.motion.getAngles("HeadYaw",True)
        self.headYaw = self.headYaw[0]  #change list to float

        #inverse angles depeding on left or right arm.
        if self.headYaw > 0 :
            self.side = "L"
            self.mod = -1
        else:
            self.side = "R"
            self.mod = 1

        #prep arm
        self.names = [self.side+"ShoulderPitch", self.side+"ShoulderRoll", self.side+"Hand", self.side+"ElbowRoll", self.side+"WristYaw"]
        self.angles = [0.0,                      self.headYaw,             0.9,              (2.0 * self.mod),       (-1.7 * self.mod)]
        self.motion.angleInterpolation(self.names, self.angles, self.velocity, True)


        """

        self.motion.angleInterpolation(self.side+"ShoulderPitch", 0.0, self.velocity, True)
        self.motion.angleInterpolation(self.side+"ShoulderRoll", self.headYaw, self.velocity, True)
        """



        #wave loop
        names  = [self.side+"ElbowYaw"]
        times  = [0.4]

        isAbsolute = False

        for _ in range(2):
            #wave out
            angles = [(0.3 * self.mod)]
            self.motion.angleInterpolation(names, angles, times, isAbsolute)

            #wave in
            angles = [(-0.3 * self.mod)]
            self.motion.angleInterpolation(names, angles, times, isAbsolute)


        self.onStopped()


    def onInput_onStop(self):
        self.onUnload() #it is recommended to reuse the clean-up as the box is stopped
        self.onStopped() #activate the output of the box]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                            </Box>
                                            <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                            <Link inputowner="0" indexofinput="5" outputowner="1" indexofoutput="4" />
                                            <Link inputowner="0" indexofinput="5" outputowner="1" indexofoutput="5" />
                                            <Link inputowner="4" indexofinput="2" outputowner="0" indexofoutput="1" />
                                            <Link inputowner="0" indexofinput="5" outputowner="4" indexofoutput="4" />
                                        </Diagram>
                                    </BehaviorKeyframe>
                                    <BehaviorKeyframe name="4" index="55">
                                        <Diagram>
                                            <Box name="GoToStance_Question_Flex" id="10" localization="8" tooltip="ID : #01E 9996&#x0A;&#x0A;===================&#x0A;&#x0A;Tags : &#x0A;- Transition&#x0A;&#x0A;===================&#x0A;&#x0A;Common dialog : Yes&#x0A;&#x0A;===================&#x0A;&#x0A;Start stance : Center&#x0A;End stance : Flex" x="154" y="37">
                                                <bitmap>media/images/box/movement/move.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="40">
                                                    <ActuatorList model="">
                                                        <ActuatorCurve name="value" actuator="HeadPitch" mute="1" unit="0">
                                                            <Key frame="18" value="-10.9565" />
                                                            <Key frame="35" value="-19.5723" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="HeadYaw" mute="1" unit="0">
                                                            <Key frame="35" value="-2.90283" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="HipPitch" mute="0" unit="0">
                                                            <Key frame="23" value="-14.6957" />
                                                            <Key frame="36" value="-28.3" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="KneePitch" mute="0" unit="0">
                                                            <Key frame="23" value="7.46309" />
                                                            <Key frame="36" value="15.3943" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                                                            <Key frame="17" value="-16.1591" />
                                                            <Key frame="33" value="-71.4384" />
                                                            <Key frame="39" value="-65.9058" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                                                            <Key frame="17" value="-106.392" />
                                                            <Key frame="26" value="-104.546" />
                                                            <Key frame="39" value="-114.039" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                                                            <Key frame="17" value="0.5952" />
                                                            <Key frame="26" value="0.5872" />
                                                            <Key frame="33" value="0.45" />
                                                            <Key frame="39" value="0.77" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                                                            <Key frame="15" value="89.9987" />
                                                            <Key frame="24" value="69.6" />
                                                            <Key frame="37" value="96.5027" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                                                            <Key frame="15" value="13.9296" />
                                                            <Key frame="24" value="3.87988" />
                                                            <Key frame="37" value="0.5" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                                                            <Key frame="17" value="-72.5131" />
                                                            <Key frame="26" value="-77.6987" />
                                                            <Key frame="39" value="-61.8782" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                                                            <Key frame="18" value="13.8632" />
                                                            <Key frame="34" value="74.8507" />
                                                            <Key frame="40" value="66.9498" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                                                            <Key frame="18" value="95.9079" />
                                                            <Key frame="27" value="94.9411" />
                                                            <Key frame="40" value="105.927" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                                                            <Key frame="18" value="0.5484" />
                                                            <Key frame="27" value="0.5412" />
                                                            <Key frame="34" value="0.45" />
                                                            <Key frame="40" value="0.77" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                                                            <Key frame="16" value="87.191" />
                                                            <Key frame="25" value="69.6" />
                                                            <Key frame="38" value="99.4079" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                                                            <Key frame="16" value="-14.1495" />
                                                            <Key frame="25" value="-6.1213" />
                                                            <Key frame="38" value="-0.5" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                                                            <Key frame="18" value="86.3073" />
                                                            <Key frame="27" value="88.5046" />
                                                            <Key frame="40" value="74.6177" />
                                                        </ActuatorCurve>
                                                    </ActuatorList>
                                                </Timeline>
                                                <Resource name="Standing" type="Lock" timeout="1" />
                                                <Resource name="All motors" type="Lock" timeout="1" />
                                            </Box>
                                            <Box name="attention_dialog" id="2" localization="8" tooltip="" x="166" y="177">
                                                <dialogFile>../attention_dialog/attention_dialog.dlg</dialogFile>
                                                <bitmap>media/images/box/box-dialog.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                            </Box>
                                            <Box name="Apply Posture" id="1" localization="8" tooltip="Set directly all the joints of the robot in the asked posture." x="449" y="193">
                                                <bitmap>media/images/box/movement/setRobotPosture.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        self.postureProxy = ALProxy("ALRobotPosture")
        pass

    def onUnload(self):
        self.postureProxy.stopMove()

    def onInput_onStart(self):
        result = self.postureProxy.applyPosture(self.getParameter("Name"), self.getParameter("Speed (%)")/100.)
        if(result):
            self.success()
        else:
            self.failure()
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture has been reached." id="4" />
                                                <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture could not be reached." id="5" />
                                                <Parameter name="Name" inherits_from_parent="0" content_type="3" value="Stand" default_value="Sit" custom_choice="1" tooltip="Name of the posture to go to." id="6">
                                                    <Choice value="Crouch" />
                                                    <Choice value="LyingBack" />
                                                    <Choice value="LyingBelly" />
                                                    <Choice value="Sit" />
                                                    <Choice value="SitRelax" />
                                                    <Choice value="StandInit" />
                                                    <Choice value="Stand" />
                                                    <Choice value="StandZero" />
                                                </Parameter>
                                                <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="40" default_value="100" min="0" max="100" tooltip="Speed to go to the posture." id="7" />
                                                <Resource name="All motors" type="Lock" timeout="0" />
                                            </Box>
                                            <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                            <Link inputowner="10" indexofinput="2" outputowner="0" indexofoutput="1" />
                                            <Link inputowner="0" indexofinput="5" outputowner="1" indexofoutput="4" />
                                            <Link inputowner="0" indexofinput="5" outputowner="1" indexofoutput="5" />
                                            <Link inputowner="0" indexofinput="5" outputowner="10" indexofoutput="4" />
                                        </Diagram>
                                    </BehaviorKeyframe>
                                    <BehaviorKeyframe name="5" index="64">
                                        <Diagram>
                                            <Box name="LittleAmsUpAndDownWithBump_01" id="7" localization="8" tooltip='ID : #01F 0014&#x0A;&#x0A;===================&#x0A;&#x0A;Tags : &#x0A;- &quot;!&quot;&#x0A;- Awesome&#x0A;- Great&#x0A;- Terrible&#x0A;- Impressive&#x0A;&#x0A;===================&#x0A;&#x0A;Common dialog : Yes&#x0A;&#x0A;===================&#x0A;&#x0A;Start stance : Center&#x0A;End stance : Center' x="118" y="34">
                                                <bitmap>media/images/box/movement/move.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="60">
                                                    <ActuatorList model="">
                                                        <ActuatorCurve name="value" actuator="HeadPitch" mute="1" unit="0">
                                                            <Key frame="11" value="-12.8299" />
                                                            <Key frame="18" value="-7.96453" smooth="1" symmetrical="1">
                                                                <Tangent side="left" interpType="bezier" abscissaParam="-3.24902" ordinateParam="0.000324902" />
                                                                <Tangent side="right" interpType="bezier" abscissaParam="2.32073" ordinateParam="-0.000232073" />
                                                            </Key>
                                                            <Key frame="23" value="-14.3887" smooth="1">
                                                                <Tangent side="left" interpType="bezier" abscissaParam="-2.36667" ordinateParam="0.000236667" />
                                                                <Tangent side="right" interpType="bezier" abscissaParam="6" ordinateParam="-0.0006" />
                                                            </Key>
                                                            <Key frame="41" value="-14.0934">
                                                                <Tangent side="left" interpType="bezier" abscissaParam="-6" ordinateParam="0" />
                                                                <Tangent side="right" interpType="bezier" abscissaParam="3.6" ordinateParam="-0.00036" />
                                                            </Key>
                                                            <Key frame="49" value="-6.78328" smooth="1" symmetrical="1">
                                                                <Tangent side="left" interpType="bezier" abscissaParam="-3.71317" ordinateParam="0.000371317" />
                                                                <Tangent side="right" interpType="bezier" abscissaParam="2.32073" ordinateParam="-0.000232073" />
                                                            </Key>
                                                            <Key frame="54" value="-15.8789">
                                                                <Tangent side="left" interpType="bezier" abscissaParam="-2.31667" ordinateParam="0.702373" />
                                                                <Tangent side="right" interpType="bezier" abscissaParam="0" ordinateParam="0" />
                                                            </Key>
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="HeadYaw" mute="1" unit="0">
                                                            <Key frame="11" value="-1.05711" />
                                                            <Key frame="23" value="0" />
                                                            <Key frame="41" value="0" />
                                                            <Key frame="54" value="-1.05711" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                                                            <Key frame="10" value="-21.5399" />
                                                            <Key frame="21" value="-75.3" />
                                                            <Key frame="31" value="-9.49872" />
                                                            <Key frame="40" value="-6.59086" />
                                                            <Key frame="50" value="-33.4932" />
                                                            <Key frame="59" value="-21.7157" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                                                            <Key frame="10" value="-69.2437" />
                                                            <Key frame="31" value="-100.885" />
                                                            <Key frame="40" value="-100.885" />
                                                            <Key frame="50" value="-63.267" />
                                                            <Key frame="59" value="-68.8921" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                                                            <Key frame="10" value="0.3756" />
                                                            <Key frame="21" value="0.13" />
                                                            <Key frame="31" value="0.98" />
                                                            <Key frame="40" value="0.98" />
                                                            <Key frame="50" value="0.45" />
                                                            <Key frame="59" value="0.3872" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                                                            <Key frame="10" value="77.0786" />
                                                            <Key frame="21" value="59.4" />
                                                            <Key frame="31" value="76.2876" />
                                                            <Key frame="40" value="76.2876" />
                                                            <Key frame="50" value="68.2895" />
                                                            <Key frame="59" value="78.2212" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                                                            <Key frame="21" value="23.3046" />
                                                            <Key frame="40" value="31.0949" />
                                                            <Key frame="50" value="23.1265" />
                                                            <Key frame="59" value="23.0386" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                                                            <Key frame="10" value="-14.5924" />
                                                            <Key frame="21" value="-75.853" />
                                                            <Key frame="31" value="-87.8062" />
                                                            <Key frame="40" value="-82.7837" />
                                                            <Key frame="50" value="-63.1965" />
                                                            <Key frame="59" value="-15.5001" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                                                            <Key frame="11" value="23.7332" />
                                                            <Key frame="22" value="75.3" />
                                                            <Key frame="32" value="14.7682" />
                                                            <Key frame="41" value="5" />
                                                            <Key frame="51" value="37.5322" />
                                                            <Key frame="60" value="23.03" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                                                            <Key frame="11" value="84.0857" />
                                                            <Key frame="22" value="91.2049" />
                                                            <Key frame="32" value="112.035" />
                                                            <Key frame="41" value="112.035" />
                                                            <Key frame="51" value="75.2965" />
                                                            <Key frame="60" value="84.3494" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                                                            <Key frame="11" value="0.372" />
                                                            <Key frame="22" value="0.13" />
                                                            <Key frame="32" value="0.98" />
                                                            <Key frame="41" value="0.98" />
                                                            <Key frame="51" value="0.45" />
                                                            <Key frame="60" value="0.3788" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                                                            <Key frame="11" value="81.2144" />
                                                            <Key frame="22" value="59.4" />
                                                            <Key frame="32" value="82.9722" />
                                                            <Key frame="41" value="82.9722" />
                                                            <Key frame="51" value="77.435" />
                                                            <Key frame="60" value="81.478" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                                                            <Key frame="22" value="-15.5037" />
                                                            <Key frame="41" value="-26.3223" />
                                                            <Key frame="51" value="-16.2493" />
                                                            <Key frame="60" value="-18.6224" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                                                            <Key frame="11" value="19.6853" />
                                                            <Key frame="22" value="80.9459" />
                                                            <Key frame="32" value="96.3269" />
                                                            <Key frame="41" value="79.1" />
                                                            <Key frame="51" value="72.4204" />
                                                            <Key frame="60" value="19.5975" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="HipPitch" mute="0" unit="0">
                                                            <Key frame="19" value="-8.21475" />
                                                            <Key frame="30" value="-17.1715" />
                                                            <Key frame="43" value="-4.48916" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="HipRoll" mute="0" unit="0">
                                                            <Key frame="19" value="-0.534973" />
                                                            <Key frame="30" value="-0.534973" />
                                                            <Key frame="43" value="-0.534973" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="KneePitch" mute="0" unit="0">
                                                            <Key frame="19" value="4.07981" />
                                                            <Key frame="30" value="7.90778" />
                                                            <Key frame="43" value="0.690436" />
                                                        </ActuatorCurve>
                                                    </ActuatorList>
                                                </Timeline>
                                                <Resource name="Standing" type="Lock" timeout="1" />
                                                <Resource name="All motors" type="Lock" timeout="1" />
                                            </Box>
                                            <Box name="attention_dialog" id="2" localization="8" tooltip="" x="104" y="172">
                                                <dialogFile>../attention_dialog/attention_dialog.dlg</dialogFile>
                                                <bitmap>media/images/box/box-dialog.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                            </Box>
                                            <Box name="Apply Posture" id="1" localization="8" tooltip="Set directly all the joints of the robot in the asked posture." x="453" y="152">
                                                <bitmap>media/images/box/movement/setRobotPosture.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        self.postureProxy = ALProxy("ALRobotPosture")
        pass

    def onUnload(self):
        self.postureProxy.stopMove()

    def onInput_onStart(self):
        result = self.postureProxy.applyPosture(self.getParameter("Name"), self.getParameter("Speed (%)")/100.)
        if(result):
            self.success()
        else:
            self.failure()
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture has been reached." id="4" />
                                                <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture could not be reached." id="5" />
                                                <Parameter name="Name" inherits_from_parent="0" content_type="3" value="Stand" default_value="Sit" custom_choice="1" tooltip="Name of the posture to go to." id="6">
                                                    <Choice value="Crouch" />
                                                    <Choice value="LyingBack" />
                                                    <Choice value="LyingBelly" />
                                                    <Choice value="Sit" />
                                                    <Choice value="SitRelax" />
                                                    <Choice value="StandInit" />
                                                    <Choice value="Stand" />
                                                    <Choice value="StandZero" />
                                                </Parameter>
                                                <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="40" default_value="100" min="0" max="100" tooltip="Speed to go to the posture." id="7" />
                                                <Resource name="All motors" type="Lock" timeout="0" />
                                            </Box>
                                            <Link inputowner="7" indexofinput="2" outputowner="0" indexofoutput="1" />
                                            <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                            <Link inputowner="0" indexofinput="5" outputowner="1" indexofoutput="4" />
                                            <Link inputowner="0" indexofinput="5" outputowner="1" indexofoutput="5" />
                                            <Link inputowner="0" indexofinput="5" outputowner="7" indexofoutput="4" />
                                        </Diagram>
                                    </BehaviorKeyframe>
                                    <BehaviorKeyframe name="6" index="74">
                                        <Diagram>
                                            <Box name="OpenArmInFrontWithBump_01" id="8" localization="8" tooltip="ID : #01B 0005&#x0A;&#x0A;===================&#x0A;&#x0A;Tags : &#x0A;- You&#x0A;- Yourslef&#x0A;- Yours&#x0A;- Everybody&#x0A;&#x0A;===================&#x0A;&#x0A;Common dialog : No&#x0A;&#x0A;===================&#x0A;&#x0A;Start stance : Center&#x0A;End stance : Center" x="147" y="60">
                                                <bitmap>media/images/box/movement/move.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                                <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="26">
                                                    <ActuatorList model="">
                                                        <ActuatorCurve name="value" actuator="HeadPitch" mute="1" unit="0">
                                                            <Key frame="13" value="-11.0113" />
                                                            <Key frame="22" value="-21.1113" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="HeadYaw" mute="1" unit="0">
                                                            <Key frame="22" value="0" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="HipPitch" mute="0" unit="0">
                                                            <Key frame="15" value="-17.7425" />
                                                            <Key frame="26" value="-3.74611" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="HipRoll" mute="0" unit="0">
                                                            <Key frame="15" value="-0.452734" />
                                                            <Key frame="26" value="-0.452734" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="KneePitch" mute="0" unit="0">
                                                            <Key frame="15" value="11.7897" />
                                                            <Key frame="26" value="3.48476" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                                                            <Key frame="15" value="-57.303" />
                                                            <Key frame="24" value="-23.7372" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                                                            <Key frame="15" value="-89.6462" />
                                                            <Key frame="24" value="-102.316" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                                                            <Key frame="15" value="0.3168" />
                                                            <Key frame="24" value="0.72" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                                                            <Key frame="15" value="52.6447" />
                                                            <Key frame="24" value="45.9525" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                                                            <Key frame="15" value="21.9029" />
                                                            <Key frame="24" value="28.2252" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                                                            <Key frame="15" value="-53.7042" />
                                                            <Key frame="24" value="-70.0963" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                                                            <Key frame="13" value="62.4055" />
                                                            <Key frame="22" value="23.8086" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                                                            <Key frame="13" value="94.3294" />
                                                            <Key frame="22" value="99.8215" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                                                            <Key frame="13" value="0.024" />
                                                            <Key frame="22" value="0.72" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                                                            <Key frame="13" value="32.6981" />
                                                            <Key frame="22" value="27.9395" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                                                            <Key frame="13" value="-13.6147" />
                                                            <Key frame="22" value="-21.0498" />
                                                        </ActuatorCurve>
                                                        <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                                                            <Key frame="13" value="45.4376" />
                                                            <Key frame="22" value="70.1928" />
                                                        </ActuatorCurve>
                                                    </ActuatorList>
                                                </Timeline>
                                                <Resource name="Standing" type="Lock" timeout="1" />
                                                <Resource name="All motors" type="Lock" timeout="1" />
                                            </Box>
                                            <Box name="attention_dialog" id="2" localization="8" tooltip="" x="118" y="214">
                                                <dialogFile>../attention_dialog/attention_dialog.dlg</dialogFile>
                                                <bitmap>media/images/box/box-dialog.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                                            </Box>
                                            <Box name="Apply Posture" id="1" localization="8" tooltip="Set directly all the joints of the robot in the asked posture." x="448" y="190">
                                                <bitmap>media/images/box/movement/setRobotPosture.png</bitmap>
                                                <script language="4">
                                                    <content>
                                                        <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self, False)

    def onLoad(self):
        self.postureProxy = ALProxy("ALRobotPosture")
        pass

    def onUnload(self):
        self.postureProxy.stopMove()

    def onInput_onStart(self):
        result = self.postureProxy.applyPosture(self.getParameter("Name"), self.getParameter("Speed (%)")/100.)
        if(result):
            self.success()
        else:
            self.failure()
        pass

    def onInput_onStop(self):
        self.onUnload() #~ it is recommanded to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                                                </script>
                                                <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                                                <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                                                <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                                                <Output name="success" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture has been reached." id="4" />
                                                <Output name="failure" type="1" type_size="1" nature="1" inner="0" tooltip="Stimulated if the posture could not be reached." id="5" />
                                                <Parameter name="Name" inherits_from_parent="0" content_type="3" value="Stand" default_value="Sit" custom_choice="1" tooltip="Name of the posture to go to." id="6">
                                                    <Choice value="Crouch" />
                                                    <Choice value="LyingBack" />
                                                    <Choice value="LyingBelly" />
                                                    <Choice value="Sit" />
                                                    <Choice value="SitRelax" />
                                                    <Choice value="StandInit" />
                                                    <Choice value="Stand" />
                                                    <Choice value="StandZero" />
                                                </Parameter>
                                                <Parameter name="Speed (%)" inherits_from_parent="0" content_type="1" value="40" default_value="100" min="0" max="100" tooltip="Speed to go to the posture." id="7" />
                                                <Resource name="All motors" type="Lock" timeout="0" />
                                            </Box>
                                            <Link inputowner="8" indexofinput="2" outputowner="0" indexofoutput="1" />
                                            <Link inputowner="2" indexofinput="2" outputowner="0" indexofoutput="1" />
                                            <Link inputowner="0" indexofinput="5" outputowner="1" indexofoutput="4" />
                                            <Link inputowner="0" indexofinput="5" outputowner="1" indexofoutput="5" />
                                            <Link inputowner="0" indexofinput="5" outputowner="8" indexofoutput="4" />
                                        </Diagram>
                                    </BehaviorKeyframe>
                                    <BehaviorKeyframe name="keyframe85" index="85">
                                        <Diagram />
                                    </BehaviorKeyframe>
                                </BehaviorLayer>
                            </Timeline>
                        </Box>
                        <Box name="memKeyFrame" id="3" localization="8" tooltip="Retrieves from NAOqi&apos;s shared memory the given value at the given key." x="315" y="260">
                            <bitmap>media/images/box/sensors/STM.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[class MyClass(GeneratedClass):
    def __init__(self):
        GeneratedClass.__init__(self)
        pass

    def onLoad(self):
        self.memory = ALProxy("ALMemory")

    def onUnload(self):
        self.memory = None

    def onInput_onStart(self):
        result = self.memory.getData(self.getParameter("key"))
        self.onStopped(result)

    def onInput_onStop(self):
        self.onUnload() #~ it is recommended to call onUnload of this box in a onStop method, as the code written in onUnload is used to stop the box as well
        pass]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                            <Output name="onStopped" type="0" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished. It contains the retrieved value from ALMemory." id="4" />
                            <Output name="onError" type="3" type_size="1" nature="1" inner="0" tooltip="Output when error is raised by the behavior. Contains the error message." id="5" />
                            <Parameter name="key" inherits_from_parent="0" content_type="3" value="memKeyFrame" default_value="MyApplication/MyData" custom_choice="0" tooltip="" id="6" />
                        </Box>
                        <Box name="attention_dialog" id="5" localization="8" tooltip="" x="116" y="253">
                            <dialogFile>../attention_dialog/attention_dialog.dlg</dialogFile>
                            <bitmap>media/images/box/box-dialog.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                        </Box>
                        <Box name="arm up" id="4" localization="8" tooltip="" x="250" y="426">
                            <bitmap>media/images/box/box-timeLine.png</bitmap>
                            <script language="4">
                                <content>
                                    <![CDATA[]]>
</content>
                            </script>
                            <Input name="onLoad" type="1" type_size="1" nature="0" inner="1" tooltip="Signal sent when diagram is loaded." id="1" />
                            <Input name="onStart" type="1" type_size="1" nature="2" inner="0" tooltip="Box behavior starts when a signal is received on this input." id="2" />
                            <Input name="onStop" type="1" type_size="1" nature="3" inner="0" tooltip="Box behavior stops when a signal is received on this input." id="3" />
                            <Output name="onStopped" type="1" type_size="1" nature="1" inner="0" tooltip="Signal sent when box behavior is finished." id="4" />
                            <Timeline enable="1" fps="25" start_frame="1" end_frame="-1" size="191">
                                <ActuatorList model="">
                                    <ActuatorCurve name="value" actuator="HeadPitch" mute="1" unit="0" />
                                    <ActuatorCurve name="value" actuator="HeadYaw" mute="1" unit="0" />
                                    <ActuatorCurve name="value" actuator="HipPitch" mute="0" unit="0">
                                        <Key frame="14" value="-1.58204" />
                                        <Key frame="34" value="-1.66993" />
                                        <Key frame="60" value="-1.66993" />
                                        <Key frame="75" value="-2.10938" />
                                        <Key frame="98" value="-2.10938" />
                                        <Key frame="108" value="-2.10938" />
                                        <Key frame="120" value="-2.10938" />
                                        <Key frame="130" value="-2.10938" />
                                        <Key frame="154" value="-2.10938" />
                                        <Key frame="169" value="-2.10938" />
                                        <Key frame="191" value="-2.10938" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="HipRoll" mute="0" unit="0">
                                        <Key frame="14" value="-0.527345" />
                                        <Key frame="34" value="-0.439454" />
                                        <Key frame="60" value="-0.439454" />
                                        <Key frame="75" value="-0.351564" />
                                        <Key frame="98" value="-0.439454" />
                                        <Key frame="108" value="-0.351564" />
                                        <Key frame="120" value="-0.439454" />
                                        <Key frame="130" value="-0.351564" />
                                        <Key frame="154" value="-0.263673" />
                                        <Key frame="169" value="-0.439454" />
                                        <Key frame="191" value="-0.439454" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="KneePitch" mute="0" unit="0">
                                        <Key frame="14" value="0.439454" />
                                        <Key frame="34" value="0.263673" />
                                        <Key frame="60" value="0.263673" />
                                        <Key frame="75" value="-0.263673" />
                                        <Key frame="98" value="-0.175782" />
                                        <Key frame="108" value="-0.263673" />
                                        <Key frame="120" value="-0.175782" />
                                        <Key frame="130" value="-0.263673" />
                                        <Key frame="154" value="0" />
                                        <Key frame="169" value="-0.0878909" />
                                        <Key frame="191" value="-0.0878909" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowRoll" mute="0" unit="0">
                                        <Key frame="14" value="-29.9707" />
                                        <Key frame="33" value="-25.4004" />
                                        <Key frame="58" value="-21.6211" />
                                        <Key frame="74" value="-21.7969" />
                                        <Key frame="98" value="-21.709" />
                                        <Key frame="106" value="-21.7969" />
                                        <Key frame="118" value="-21.709" />
                                        <Key frame="129" value="-21.7969" />
                                        <Key frame="154" value="-18.2812" />
                                        <Key frame="168" value="-6.50391" />
                                        <Key frame="190" value="-29.8828" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LElbowYaw" mute="0" unit="0">
                                        <Key frame="14" value="-70.0488" />
                                        <Key frame="33" value="-71.0156" />
                                        <Key frame="58" value="-72.0703" />
                                        <Key frame="74" value="-72.334" />
                                        <Key frame="98" value="-71.8066" />
                                        <Key frame="106" value="-72.334" />
                                        <Key frame="118" value="-71.8066" />
                                        <Key frame="129" value="-72.334" />
                                        <Key frame="154" value="-73.2129" />
                                        <Key frame="168" value="-74.707" />
                                        <Key frame="190" value="-69.7851" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LHand" mute="0" unit="1">
                                        <Key frame="14" value="0.59754" />
                                        <Key frame="33" value="0.232865" />
                                        <Key frame="58" value="0.196837" />
                                        <Key frame="74" value="0.717926" />
                                        <Key frame="98" value="0.197715" />
                                        <Key frame="106" value="0.717926" />
                                        <Key frame="118" value="0.197715" />
                                        <Key frame="129" value="0.717926" />
                                        <Key frame="154" value="0.664323" />
                                        <Key frame="168" value="0.64587" />
                                        <Key frame="190" value="0.600176" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderPitch" mute="0" unit="0">
                                        <Key frame="14" value="89.9121" />
                                        <Key frame="33" value="89.5605" />
                                        <Key frame="60" value="93.8672" />
                                        <Key frame="74" value="92.4609" />
                                        <Key frame="98" value="94.043" />
                                        <Key frame="106" value="92.4609" />
                                        <Key frame="119" value="94.043" />
                                        <Key frame="129" value="92.4609" />
                                        <Key frame="154" value="92.6367" />
                                        <Key frame="168" value="91.8457" />
                                        <Key frame="190" value="90.1758" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LShoulderRoll" mute="0" unit="0">
                                        <Key frame="14" value="6.85547" />
                                        <Key frame="32" value="9.66797" />
                                        <Key frame="58" value="9.31641" />
                                        <Key frame="72" value="16.6992" />
                                        <Key frame="96" value="9.4043" />
                                        <Key frame="106" value="16.6992" />
                                        <Key frame="118" value="9.4043" />
                                        <Key frame="129" value="16.6992" />
                                        <Key frame="153" value="9.58008" />
                                        <Key frame="168" value="4.30664" />
                                        <Key frame="190" value="6.85547" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="LWristYaw" mute="0" unit="0">
                                        <Key frame="14" value="-0.793436" />
                                        <Key frame="32" value="17.8396" />
                                        <Key frame="58" value="22.7616" />
                                        <Key frame="74" value="33.3965" />
                                        <Key frame="96" value="22.7616" />
                                        <Key frame="106" value="33.3965" />
                                        <Key frame="118" value="22.7616" />
                                        <Key frame="129" value="33.3965" />
                                        <Key frame="154" value="44.295" />
                                        <Key frame="168" value="46.3165" />
                                        <Key frame="190" value="0.964409" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowRoll" mute="0" unit="0">
                                        <Key frame="14" value="29.9707" />
                                        <Key frame="36" value="52.0312" />
                                        <Key frame="60" value="77.4317" />
                                        <Key frame="75" value="89.5" />
                                        <Key frame="98" value="76.4649" />
                                        <Key frame="108" value="89.5" />
                                        <Key frame="120" value="76.4649" />
                                        <Key frame="130" value="89.5" />
                                        <Key frame="154" value="89.4726" />
                                        <Key frame="169" value="2.81249" />
                                        <Key frame="191" value="30.0586" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RElbowYaw" mute="0" unit="0">
                                        <Key frame="14" value="69.9609" />
                                        <Key frame="36" value="89.2969" />
                                        <Key frame="61" value="119.5" />
                                        <Key frame="76" value="83.1445" />
                                        <Key frame="99" value="109.688" />
                                        <Key frame="109" value="83.1445" />
                                        <Key frame="122" value="109.688" />
                                        <Key frame="132" value="83.1445" />
                                        <Key frame="157" value="85.2539" />
                                        <Key frame="169" value="106.875" />
                                        <Key frame="191" value="70.2246" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RHand" mute="0" unit="1">
                                        <Key frame="14" value="0.600176" />
                                        <Key frame="36" value="0.196837" />
                                        <Key frame="61" value="0.858524" />
                                        <Key frame="76" value="0.895431" />
                                        <Key frame="99" value="0.876977" />
                                        <Key frame="109" value="0.895431" />
                                        <Key frame="122" value="0.876977" />
                                        <Key frame="132" value="0.895431" />
                                        <Key frame="157" value="0.537786" />
                                        <Key frame="169" value="0.538664" />
                                        <Key frame="191" value="0.596661" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderPitch" mute="0" unit="0">
                                        <Key frame="14" value="90" />
                                        <Key frame="36" value="82.002" />
                                        <Key frame="61" value="60.2051" />
                                        <Key frame="74" value="14.9793" />
                                        <Key frame="98" value="17.9676" />
                                        <Key frame="106" value="14.9793" />
                                        <Key frame="119" value="17.9676" />
                                        <Key frame="129" value="14.9793" />
                                        <Key frame="157" value="56.0742" />
                                        <Key frame="169" value="81.8262" />
                                        <Key frame="191" value="89.8242" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RShoulderRoll" mute="0" unit="0">
                                        <Key frame="14" value="-6.94337" />
                                        <Key frame="36" value="-22.9394" />
                                        <Key frame="61" value="-23.3675" />
                                        <Key frame="77" value="-10.9184" smooth="1" symmetrical="1">
                                            <Tangent side="left" interpType="bezier" abscissaParam="-5.54742" ordinateParam="-0.278948" />
                                            <Tangent side="right" interpType="bezier" abscissaParam="7.97442" ordinateParam="0.400988" />
                                        </Key>
                                        <Key frame="100" value="-17.6996" smooth="1" symmetrical="1">
                                            <Tangent side="left" interpType="bezier" abscissaParam="-7.97442" ordinateParam="-0.400988" />
                                            <Tangent side="right" interpType="bezier" abscissaParam="3.12043" ordinateParam="0.156908" />
                                        </Key>
                                        <Key frame="109" value="-10.9184" smooth="1" symmetrical="1">
                                            <Tangent side="left" interpType="bezier" abscissaParam="-3.12043" ordinateParam="-0.156908" />
                                            <Tangent side="right" interpType="bezier" abscissaParam="4.854" ordinateParam="0.244079" />
                                        </Key>
                                        <Key frame="123" value="-17.6996" smooth="1" symmetrical="1">
                                            <Tangent side="left" interpType="bezier" abscissaParam="-4.854" ordinateParam="-0.244079" />
                                            <Tangent side="right" interpType="bezier" abscissaParam="3.46714" ordinateParam="0.174342" />
                                        </Key>
                                        <Key frame="133" value="-10.9184" smooth="1" symmetrical="1">
                                            <Tangent side="left" interpType="bezier" abscissaParam="-3.46714" ordinateParam="-0.174342" />
                                            <Tangent side="right" interpType="bezier" abscissaParam="8.32114" ordinateParam="0.418422" />
                                        </Key>
                                        <Key frame="157" value="-8.33821" />
                                        <Key frame="169" value="-4.13086" />
                                        <Key frame="191" value="-6.85547" />
                                    </ActuatorCurve>
                                    <ActuatorCurve name="value" actuator="RWristYaw" mute="0" unit="0">
                                        <Key frame="14" value="-1.23289" />
                                        <Key frame="36" value="-18.196" />
                                        <Key frame="60" value="-27.1609" />
                                        <Key frame="76" value="-80.1504" />
                                        <Key frame="99" value="-49.4789" />
                                        <Key frame="108" value="-80.1504" />
                                        <Key frame="120" value="-49.4789" />
                                        <Key frame="132" value="-80.1504" />
                                        <Key frame="156" value="-67.3275" />
                                        <Key frame="169" value="-70.931" />
                                        <Key frame="191" value="-2.28759" />
                                    </ActuatorCurve>
                                </ActuatorList>
                            </Timeline>
                        </Box>
                        <Link inputowner="1" indexofinput="2" outputowner="0" indexofoutput="2" />
                        <Link inputowner="0" indexofinput="4" outputowner="1" indexofoutput="5" />
                    </Diagram>
                </BehaviorKeyframe>
            </BehaviorLayer>
        </Timeline>
    </Box>
</ChoregrapheProject>
